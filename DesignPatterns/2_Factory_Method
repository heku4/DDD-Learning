## Factory Method

Порождающий паттерн. Является базовым для всех порождаающих паттернов. Используется, если нужно создать доменный объект в runtime - то есть когда сам объект определяется при выполнении программы.Либо этот домен объекта не известен до конца и может меняться в течение жизни всего домена. 
Позволяет задать базовую логику и переиспользовать функционал. Поддерживает OCP прицнип.

```csharp
public interface ITransport
{
    public int Capacity { get; }

    public void Deliver();
}

public class Track: ITransport
{
    public int Capacity { get; }
    public void Deliver()
    {
        Console.WriteLine($"Deliver: {Capacity}");
    }

    public Track(int capacity)
    {
        Capacity = capacity;
    }
}

public abstract class TransportFactory
{
    public abstract ITransport CreateInstance();
}


public class TrackFactory : TransportFactory
{
    private readonly int _capacity;
    public TrackFactory(int capacity)
    {
        _capacity = capacity;
    }

    public override ITransport CreateInstance()
    {
        return new Track(_capacity);
    }
}

public class Program
{
    static void Main()
    {
        var type = Console.ReadLine();
        var transportFactory = GetFactory(type ?? string.Empty);

        var transport = transportFactory.CreateInstance();
    }

    private static TransportFactory GetFactory(string type)
    {
        switch (type)
        {
            case "track":
                return new TrackFactory(50);
            default:
                return null;
        }
    }
}
```